@{
    ViewData["Title"] = "App";
}

<script type="text/javascript" src="~/js/calculator.min.js"></script>
<script type="text/javascript" src="~/js/app.min.js"></script>

<div id="fullscreen">
    <span id="errorMsg" class="@((bool)ViewData["DarkMode"]?"bg-dark":"bg-light")"></span>

    <video id="video" class="capture" playsinline autoplay></video>
    <img id="upload" />
    <canvas id="rulerCanvas"></canvas>
    <canvas id="canvas"></canvas>

    <div id="controls" class="@((bool)ViewData["DarkMode"]?"bg-dark":"bg-light") border-bottom border-right">
        <input id="snapButton" class="button btn btn-info border-bottom" onclick="snap()" type="button" value="Capture" />
        <label class="button btn btn-info border-bottom"><span class="btn">Upload</span><input id="file" type="file" accept="image/*" capture="capture" style="display:none;"></label>
        <input id="calculate" class="button btn btn-info border-bottom" onclick="calculate()" type="button" value="Calculate" />
        <div id="editor" class="d-inline-block"></div>
    </div>
    <div id="notification" class="@((bool)ViewData["DarkMode"]?"bg-dark":"bg-light") border-danger border-bottom">
        <p id="drawRulerPrompt" class="text-center">
            Please draw a straight line and enter in the measurement. | <a class="text-info" onclick="cancelCalculate()">Cancel</a>
        </p>
        <p id="enterMeasurementPrompt" class="text-center">
            Measurement: <input id="scaleInput" type="number" value="0" /> cm | <a class="text-info" onclick="confirmCalculate()">Calculate!</a> | <a class="text-danger" onclick="resetCalculate()">Reset</a>
        </p>
    </div>

    <div id="help" class="@((bool)ViewData["DarkMode"]?"bg-dark":"bg-light") border-left">
        <h1>Help</h1>
        <h2>I'm Getting an Error</h2>
        <p>We apologize for the inconvinience that the site does not function on your device. Please attempt to use the "Upload" option instead. If on mobile, this button will automatically activate your camera and you can proceed normally. Some older browsers are not supported.</p>
        <br />
        <h2>Usage</h2>
        <ul>
            <li>Upload or capture a photo.</li>
            <li>Trace the area in the photo you want to find.</li>
            <li>To remove tracings, click the icons on the control bar.</li>
            <li>Click calculate when done.</li>
            <li>Draw a straight line in the picture and enter the real life measurement.</li>
            <li>Your results will be displayed.</li>
        </ul>
        <br /><br />
    </div>
    <input id="helpButton" class="button btn btn-info" onclick="helpToggle()" type="button" value="Help" />
</div>
<div id="results" class="text-center">
    <h1>Results:</h1>
    <hr />
    <div id="functions">

    </div>
    <a class="btn @((bool)ViewData["DarkMode"]?"btn-outline-light":"btn-outline-dark") @((bool)ViewData["DarkMode"]?"btn-dark":"btn-light")" onclick="transitionOut('app')">Have Another Go?</a>
</div>
